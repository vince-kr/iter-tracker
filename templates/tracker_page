<!DOCTYPE html>
<html lang="en" class="brown_background">

<head>
  <title>Track my learning</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">
</head>

<body class="pale_foreground">
  <div class="container">
    <h1 class="title is-1">Iteration:&emsp;{{ counter }}</h1>
    <h2 class="subtitle is-4">{{ start_to_end }}</h2>

    <!-- Goals section -->
    <section class="section">
      <div class="columns">
        {% for goal in goals.values() %}
        <div class="column">
          <h3 class="title is-5">{{ goal.title }}</h3>
          <div class="content">
            <p>{{ goal.description }}</p>
            <p>time spent / goal (perc)</p>
            <p class="is-size-4">{{ goal.time_spent }} / {{ goal.time_target }} ({{ goal.achieved }}%)</p>
          </div>
        </div>
        {% endfor %}
      </div>
    </section>

    <!-- Time spent this iteration section -->
    <section class="section">
          <h3 class="title is-5">Study sessions</h3>
          <div class="content">
            <h4 class="subtitle is-6">Calendar</h4>
            <table>
              {% for week in weeks %}
              <tr>
                {% for day in week %}
                <th>
                  {{ day.day_of_week }}<br />{{ day.day_and_month }}
                </th>
                {% endfor %}
              </tr>
              <tr>
                {% for day in week %}
                <td>
                  {% for sesh in study_sessions[day.date] %}
                  {{ sesh.start.strftime("%H:%M") }} - {{ sesh.end.strftime("%H:%M")}}<br />
                  {% endfor %}
                </td>
                {% endfor %}
              </tr>
              {% endfor %}
            </table>
          </div>
    </section>

	<section class="section">
	  <h3 class="title is-5">Log a session</h3>
	  <form method="post">
		<div class="columns is-mobile">
		  <div class="column">
		    <div class="field">
		      <label class="label">Session date</label>
		      <div class="control">
		        <input class="input" type="date" name="session_date"
		         value="{{ todays_date }}">
		      </div>
		    </div>
		  </div>
		  <div class="column">
		    <div class="field">
		      <label class="label">Goal</label>
		      <div class="control">
		        <label class="radio">
		          <input type="radio" name="goal_type" value="learning">
		          Learning
		        </label><br />
		        <label class="radio">
		          <input type="radio" name="goal_type" value="build">
		          Build
		        </label>
		      </div>
		    </div>
		  </div>
		  <div class="column">
		    <div class="field">
		      <label class="label">Start time</label>
		      <div class="control">
		        <input class="input" type="time" name="start_time">
		      </div>
		    </div>
		  </div>
		  <div class="column">
		    <div class="field">
		      <label class="label">End time</label>
		      <div class="control">
		        <input class="input" type="time" name="end_time">
		      </div>
		    </div>
		  </div>
		  <div class="column">
		    <div class="field">
		      <div class="control">
		        <button class="button is-primary" type="submit">Submit</button>
		      </div>
		    </div>
		  </div>
		</div>
	  </form>
	</section>

  </div>
</body>

</html>
